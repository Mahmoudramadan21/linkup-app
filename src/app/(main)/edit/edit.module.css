/*
 * =============================================================================
 *  EditProfilePage.module.css
 * =============================================================================
 *
 * Complete styling for the Edit Profile page (/profile/edit)
 * Features:
 *   • Cover photo + profile picture upload with floating edit buttons
 *   • Two-column responsive form layout (mobile → tablet → desktop)
 *   • Personal info form + separate password change form
 *   • Real-time bio character counter
 *   • Privacy toggle (private account)
 *   • Full dark mode, WCAG 2.1 AA, and print support
 *   • Smooth focus rings, hover states, and GPU-accelerated animations
 *   • Zero layout shift, CLS-optimized
 */

@tailwind components;
@tailwind utilities;

/* ==========================================================================
   Accessibility – Respect prefers-reduced-motion
   ========================================================================== */
@media (prefers-reduced-motion: reduce) {
  .profile-form__input,
  .profile-form__textarea,
  .password-form__input {
    animation: none !important;
  }
}

/* ==========================================================================
   Page Container
   ========================================================================== */
.edit-profile {
  @apply container transition-colors duration-[var(--anim-medium)];
  background-color: var(--app-bg);
  color: var(--text-primary);
  padding: var(--spacing-sm) var(--spacing-md) var(--spacing-lg);
}

/* ==========================================================================
   Header & Title
   ========================================================================== */
.edit-profile__header {
  @apply mb-6;
}

.edit-profile__title {
  @apply font-bold tracking-tight text-2xl;
  color: var(--text-primary);
}

/* ==========================================================================
   Profile Header – Cover + Avatar Section
   ========================================================================== */
.profile-header {
  @apply relative rounded-2xl shadow-md mb-36;
  background-color: var(--card-bg);
}

.profile-header__cover {
  @apply relative w-full h-64 rounded-t-2xl;
}

.profile-header__cover-placeholder {
  @apply h-full w-full;
  background-color: var(--neutral-gray-light);
}

/* Cover Photo Edit Button */
.profile-header__cover-label {
  @apply absolute bottom-4 right-4 p-2 rounded-full shadow-md cursor-pointer 
         transition-all duration-[var(--anim-fast)] will-transform;
  background-color: var(--card-bg);
  color: var(--linkup-purple);
}
.profile-header__cover-label:hover,
.profile-header__cover-label:focus-visible {
  @apply bg-[var(--linkup-purple)] text-white focus-ring;
}
.profile-header__cover-label-text {
  @apply font-medium text-sm;
}

/* Profile Picture (centered, overlapping cover) */
.profile-header__profile-picture-container {
  @apply absolute left-1/2 -bottom-16 transform -translate-x-1/2 z-10;
}

.profile-header__profile-picture {
  @apply relative w-32 h-32;
}

.profile-header__profile-picture-placeholder {
  @apply rounded-full w-full h-full;
  border: 4px solid var(--card-bg);
  background-color: var(--neutral-gray-light);
}

/* Profile Picture Edit Button */
.profile-header__profile-picture-label {
  @apply absolute bottom-1 right-1 p-2 rounded-full shadow-md cursor-pointer 
         transition-all duration-[var(--anim-fast)] will-transform;
  background-color: var(--card-bg);
  color: var(--linkup-purple);
}
.profile-header__profile-picture-label:hover,
.profile-header__profile-picture-label:focus-visible {
  @apply bg-[var(--linkup-purple)] text-white focus-ring;
}
.profile-header__profile-picture-label-text {
  @apply font-medium text-xs;
}

/* ==========================================================================
   Personal Information Form
   ========================================================================== */
.profile-form {
  @apply rounded-2xl p-6 mb-6 shadow-2xl w-full mx-auto;
  background-color: var(--card-bg);
}

.profile-form__title {
  @apply font-bold tracking-tight mb-6 text-xl;
  color: var(--text-primary);
}

.profile-form__grid {
  @apply grid grid-cols-1 md:grid-cols-2 gap-4;
}

.profile-form__label {
  @apply block font-semibold mb-1 text-sm;
  color: var(--text-primary);
}

.profile-form__input {
  @apply w-full p-3 rounded-xl border text-base transition-shadow duration-[var(--anim-fast)] 
         animate-fadeInModal;
  border-color: var(--border-color);
  background-color: var(--section-bg);
  color: var(--text-primary);
  @apply focus:outline-none focus:ring-2 focus:ring-[var(--linkup-purple)];
  @apply placeholder:text-[var(--text-muted)];
}

.profile-form__textarea {
  @apply w-full p-3 rounded-xl border text-base transition-shadow duration-[var(--anim-fast)] 
         resize-none animate-fadeInModal;
  border-color: var(--border-color);
  background-color: var(--section-bg);
  color: var(--text-primary);
  @apply focus:outline-none focus:ring-2 focus:ring-[var(--linkup-purple)];
  @apply placeholder:text-[var(--text-muted)];
  min-height: 120px;
  max-height: 200px;
}

.profile-form__error {
  @apply mt-1 text-sm;
  color: var(--error);
}

.profile-form__bio-counter {
  @apply text-right mt-1 text-sm;
  color: var(--text-muted);
}

.profile-form__checkbox-container {
  @apply flex items-center gap-2 cursor-pointer mt-4 text-sm;
  color: var(--text-primary);
}

.profile-form__checkbox {
  @apply mr-2 accent-[var(--linkup-purple)] focus:ring-2 focus:ring-[var(--linkup-purple)];
}

.profile-form__server-error {
  @apply mt-4 text-sm;
  color: var(--error);
}

.profile-form__button {
  @apply btn-rounded--success min-w-[140px] font-semibold 
         transition-all duration-[var(--anim-fast)] will-transform mt-4 
         focus-ring disabled:btn-rounded--disabled;
}

/* ==========================================================================
   Change Password Form
   ========================================================================== */
.password-form {
  @apply rounded-2xl p-6 mb-6 shadow-2xl w-full mx-auto;
  background-color: var(--card-bg);
}

.password-form__title {
  @apply font-bold tracking-tight mb-6 text-xl;
  color: var(--text-primary);
}

.password-form__fields {
  @apply space-y-4 max-w-md mx-auto;
}

.password-form__label {
  @apply block font-semibold mb-1 text-sm;
  color: var(--text-primary);
}

.password-form__input {
  @apply w-full p-3 rounded-xl border text-base transition-shadow duration-[var(--anim-fast)] 
         animate-fadeInModal;
  border-color: var(--border-color);
  background-color: var(--section-bg);
  color: var(--text-primary);
  @apply focus:outline-none focus:ring-2 focus:ring-[var(--linkup-purple)];
  @apply placeholder:text-[var(--text-muted)];
}

.password-form__error {
  @apply mt-1 text-sm;
  color: var(--error);
}

.password-form__server-error {
  @apply mt-4 text-sm;
  color: var(--error);
}

.password-form__button {
  @apply btn-rounded--success min-w-[140px] font-semibold 
         transition-all duration-[var(--anim-fast)] will-transform mt-4 
         focus-ring disabled:btn-rounded--disabled;
}

/* ==========================================================================
   Loading State
   ========================================================================== */
.loading {
  @apply text-center animate-pulse text-lg;
  color: var(--text-muted);
}

/* ==========================================================================
   Responsive Adjustments – Tablet & Mobile
   ========================================================================== */
@media (max-width: 1023px) {
  .edit-profile__title { @apply text-xl; }
  .profile-form__title,
  .password-form__title { @apply text-lg; }
  .profile-header { @apply mb-24; }
  .profile-header__cover { @apply h-64; }
  .profile-form,
  .password-form { @apply p-md; }
}

@media (max-width: 640px) {
  .edit-profile { @apply p-xs; }
  .profile-header__cover { @apply h-48; }
  .profile-header__profile-picture { @apply w-24 h-24; }

  .profile-header__cover-label-text,
  .profile-header__profile-picture-label-text { @apply text-xs; }

  .profile-form__label,
  .password-form__label,
  .profile-form__bio-counter,
  .profile-form__error,
  .profile-form__server-error,
  .password-form__error,
  .password-form__server-error,
  .profile-form__checkbox-container { @apply text-xs; }

  .profile-form__input,
  .password-form__input,
  .profile-form__textarea { @apply text-sm; }

  .loading { @apply text-base; }
}