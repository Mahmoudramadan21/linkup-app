/*
 * =============================================================================
 *  explore.module.css
 * =============================================================================
 *
 * Complete styling for the Explore / Discover page
 * Features:
 *   • Responsive CSS Masonry grid (2 → 5 columns based on viewport)
 *   • Optimized for images & videos of varying aspect ratios
 *   • Smooth hover effects with card--hover
 *   • Full dark mode + high contrast support
 *   • WCAG 2.1 AA compliant focus states
 *   • Mobile-first responsive design
 *   • Zero JavaScript layout shift (pure CSS columns)
 *   • Infinite scroll support with sentinel
 *   • Reusable modal navigation arrows (shared with feed post modal)
 *   • Consistent with global design system and Tailwind config
 */

@tailwind components;
@tailwind utilities;

/* ==========================================================================
   Page Container
   ========================================================================== */
.explore {
  @apply flex flex-col items-center bg-[var(--app-bg)] transition-colors duration-medium;
}

.explore__container {
  @apply container card mx-auto w-full;
}

.explore__title {
  @apply text-primary-bold text-center mb-md tracking-tight text-4xl 
         sm-down:sr-only; /* Hidden on mobile – replaced by tab bar in layout */
}

/* ==========================================================================
   Masonry Grid Layout – Pure CSS, no JS required
   ========================================================================== */
.explore__posts_grid {
  @apply column-count-2 column-gap-md;
}

/* Responsive column count */
@screen sm {
  .explore__posts_grid {
    @apply column-count-3;
  }
}
@screen md {
  .explore__posts_grid {
    @apply column-count-4;
  }
}

/* Individual post tile in masonry */
.explore__post_tile {
  @apply card--hover mb-md break-inside-avoid p-0;
}

.explore__post_image,
.explore__post_video {
  @apply w-full h-auto rounded-lg object-cover;
}

/* ==========================================================================
   States – Loading, Error, Empty
   ========================================================================== */
.explore__loading {
  @apply loading--lg text-center mt-md;
}

.explore__error {
  @apply text-secondary text-center mt-sm;
}

.explore__empty {
  @apply loading--lg text-center mt-lg;
}

/* Intersection Observer sentinel for infinite scroll */
.explore__load_more_trigger {
  @apply h-1;
}

/* ==========================================================================
   Modal Navigation Buttons (Previous / Next in post modal)
   ========================================================================== */
.feed__modal_nav_button {
  @apply btn-rounded py-2 absolute top-1/2 transform -translate-y-1/2 
         text-white bg-[rgba(0,0,0,0.5)] hover:bg-black/70 focus-ring z-50;
}

.feed__modal_nav_button:disabled {
  @apply btn-rounded--disabled;
}
